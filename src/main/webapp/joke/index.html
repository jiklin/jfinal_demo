#@layout()
#define main()
<h1>每天随机 10 个笑话</h1>
<div class="table_box" id="app" v-cloak>
	<ul class="list">
		<li v-for="item in list" :style="'background:url('+ item.url +') no-repeat center center;background-size:cover;'">
			<a :href="item.url">
				<p>{{item.content}}</p>
			</a>
		</li>
	</ul>
</div>
<link href="https://cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.3.3/vue.min.js"></script>
<script>
new Vue({
	el: "#app",
	data: {
		list: []
	},
	created: function () {
		var that = this;
		$.getJSON("https://bird.ioliu.cn/joke/rand", function (data) {
			that.list = data.data;
		});
	},
	updated: function () {
		$("#app ul li a").magnificPopup({ type: "image" });
	}
});
</script>
#end
#define css()
<style>
[v-cloak] {
	display: none;
}
ul.list {
	margin: 0 -10px;
	overflow: hidden;
}
ul.list li {
	position: relative;
	float: left;
	width: 178.9px;
	height: 300px;
	margin: 0 10px 10px;
	border-top: 1px solid #eee;
	border-radius: 4px;	
	box-sizing: border-box;
	overflow: hidden;
	box-shadow: 2px 1px 8px rgba(0,0,0,0.25);
}
ul.list li a {
	display: block;
	width: 100%;
	height: 100%;
}
ul.list li:hover {
	background-color: #eee;
}
ul.list li p {
	position: absolute;
	bottom: 0;
	display: block;
	width: 100%;
	line-height: 25px;
	background-color: rgba(0,0,0,0.6);	
	font-size: 12px;
	text-align: center;
	color: #fff;
}
</style>
#end